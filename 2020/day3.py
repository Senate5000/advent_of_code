import math
test_input = [
    ".#..............##....#.#.####.",
    "##..........#.....##...........",
    ".......#....##...........#.#...",
    ".........#.#...#..........#....",
    ".........#..#................##",
    "..#...#..#..#...........#......",
    "...................#...##..##..",
    "........#.....##...#.#.#...#...",
    "#..#.##......#.#..#..........#.",
    "......#.#...#.#...#........##.#",
    ".....#.####........#...........",
    "...###..#............#.........",
    ".....#.......##......#...#.....",
    "#......##......................",
    "......#..............#.........",
    "..##...#....###.##.............",
    "#...#..........#.#.........#...",
    "...........#........#...#......",
    ".....##.........#......#..#....",
    "#..............#....#.....#....",
    ".#......#....#...#............#",
    ".####..........##..#.#.........",
    "....#...#......................",
    "....................#....#.#...",
    "..........###.#...............#",
    ".#...........#...##............",
    ".#.#..#.....#...#....#.......#.",
    ".##........#..#....#...........",
    ".........#.....#......###......",
    "..............#..#.......#.....",
    "........#..#.#...........#..#..",
    "#.........#......#.....##.#.#..",
    "........#.#.#....#.............",
    "........#........#.#.##........",
    "#......#.#..........#..#.......",
    "..#....#...##......###..#..#...",
    "............#..#.#.........#...",
    "....#.#...........#..........##",
    ".......#.#.#..#......#...#.....",
    "..#.........##.#.........#...#.",
    "......#....#.#....#........#.#.",
    ".#....###....#..............#..",
    ".#....#.......#....#..#.....#..",
    ".....#.....#...................",
    "..#.....#......#......#........",
    "......##.##...#...#...#...#.##.",
    "##...#....#...#..#...#...#.....",
    "..#.....#...#...##.##...#......",
    ".....#.............##...#......",
    ".....................#.##..#...",
    "#...#....#....#........#.....#.",
    "..#...#.........#...#..#.....#.",
    "#.#......#...................#.",
    "..#...........##...............",
    "..#....#........#..#...........",
    "...........#...................",
    ".............###......#....#...",
    "...........#...#....#..#....#..",
    ".....##............#.#.......#.",
    ".....#..#....#...#....#........",
    "...............##........#.#...",
    ".........#...#.#....#.......#..",
    "#..#.......#.......#...#.......",
    "..#...........................#",
    "......#.......#..#......#......",
    ".#.......#..................##.",
    "..#.........#..#.##.#....#...##",
    "...#..#....#...#....#.#........",
    ".#...#........##..#..#.......#.",
    ".....#........#....#....#..#...",
    "............#...........#......",
    "..###.......#..#....#......#...",
    ".....#...#.......#..#..........",
    "..#........##.#....##..........",
    "#....#.............#..##......#",
    "....#.................##.......",
    "...#.......#........#....##.#.#",
    "##..##..#.....#.....#..........",
    "...#...............#....#..#...",
    ".#...##....#....#.....#....##..",
    "...#.....#......#......#.......",
    "#.....#.......##.....#..#....##",
    ".....#.#...##.#......##....#.#.",
    "..........#....#.#...#.........",
    ".#..##...#.....................",
    "...........##..#...#....#......",
    "...#......#........#.......#...",
    ".#......#..#........#.....#..#.",
    ".......#........##..#.##....#..",
    ".##..........#..#...#.....#....",
    ".....##...............#.#......",
    "..##.....#..#......#..##.#.#...",
    "....#......#.##...........#....",
    "#.#..#.......#......#.#........",
    "...#.#..#....#............#..#.",
    "...#..........###....#....#...#",
    "........##...#.......#..#....#.",
    "..#...#.....#..#........##.....",
    "...#..#.##.#.#.##..............",
    ".......#...#.........#.....#..#",
    "..#.....#.#..........#..#......",
    "......#..........#......#.....#",
    ".#...........#........#......##",
    "..##............#......#...#..#",
    "#..................#...........",
    "#....#..#.........#........#..#",
    "..#.#....###..#...#...##...##..",
    "...#....#..#.....#.............",
    ".#........##.##...#....#...#...",
    ".........#.......##.#.....##...",
    "#.#.....##...#........#...#...#",
    ".....#.#.##...#.....#.##..#....",
    "........#...##...#...#.#..#..#.",
    ".##....#.##...#.......#........",
    "...#..#................#..#....",
    "....#.......#......#...#.##....",
    "#......###..#...#......#.......",
    "..#...#...##...........##......",
    ".......#...#..##....##......#..",
    "....#.#.............#.#...##..#",
    "..........#........#...#......#",
    "............#.#.#....###.......",
    "#..#...#.#.####...#..#...#.....",
    ".##.......#.##...#.............",
    "#..#...........#.#.##.......#..",
    "...#..#.#...#...###..#.#..#.#..",
    "..#...#.....#..#....#....#.....",
    ".........##.......#............",
    ".........##.##......###........",
    ".............#.#....#..#.....#.",
    "...#....#.#.......#......##....",
    "............#..................",
    "....##...#..........#...#..#...",
    "#..#....#.....#.......#.##.#..#",
    ".....#.........##.............#",
    "#.....#.#...#............##..##",
    "..............#....#.....#.....",
    ".#....###..#.#.....###.#..#....",
    ".....#....##...#....#......#...",
    "..........#...#....#...........",
    "............#....#..#.........#",
    "..##.....#.#...#.......#...#...",
    "...#...#..#......##...#.....##.",
    "......#.##............##.#....#",
    "....#......#...##.....#.....###",
    ".#.###...............#...#.#...",
    "..#....................##...#..",
    ".......#.....##...........#....",
    "#.........#....#....#....#....#",
    "..#.#..##.#.#..................",
    ".....#.......#................#",
    "...........#.......#........#..",
    "#...#.........#.#.....#.....#..",
    "..........#..#...........#.....",
    "#..#.##..##..#.#.##.........#..",
    "#..#..#....##..#.........#.....",
    "#.#.......................#.#..",
    ".##......#.#...#......#....#...",
    "..#.#................#..##.....",
    ".......#..................#...#",
    ".....#.........##.#....#.......",
    "#..........#..#.#..........#..#",
    "..#..#.....#.........#...#.....",
    "..............#.....#..#...#.##",
    "...............................",
    "...#............##......#.....#",
    ".......#..#.............#.#....",
    "...........#..........#........",
    "...#.####..#......#...#....#...",
    "##......#.##.....#.............",
    "....#.........#...#...........#",
    "...#........#.......#.#..#.#.#.",
    "..#.......#.........#....#.....",
    "................#.#.#.##...#..#",
    "#.##...#...#..#.....#.....#..#.",
    "...............#...........#...",
    ".....##.#...............##...#.",
    ".#..##.##......................",
    ".......#.........#..#..#.......",
    "...#......#..................#.",
    "...#.#..#....#....#............",
    "...........#...#..#....##......",
    ".....#...#..#.#....#....#....#.",
    ".......#...#...#.#.#...........",
    "....#......#......#...##..#....",
    "##...#.#.....#..#.##...........",
    "#.#..#.....#..#................",
    "...#..#.#......#.#...........##",
    "##....#...#.....###..#...#....#",
    "...#.....#.#.#......##...#...#.",
    "............#.......#..........",
    "....#..........###.......#.....",
    ".................##..##....#...",
    "...........#........##..#......",
    "...#.#...#.....#........#...#..",
    "#...#.#......#.#...........#...",
    "..#..........#....#..........#.",
    "..#................#...........",
    "#...#.#....#.#.......#.........",
    ".#...........##..#....#....#..#",
    ".##........#.....#...#..#....#.",
    "......#......#...#.............",
    ".......#..#...#.##....#..#.#...",
    ".......#......#....#....#.#.#..",
    "..........##.....#....##.#.....",
    ".........##..#...#.....#..#....",
    "...#....#..........#..#...#..#.",
    ".......#.....##.#..#.....#...#.",
    "#...#......#......#...#........",
    "#..#....#.#......#......#......",
    ".......#.##....................",
    "...##...#.....#......##......#.",
    ".#...................###.......",
    "....#........###...#........#..",
    "...#............#.....#..#.....",
    "..................#......#....#",
    "..##......#..##..##......#.#...",
    "........##....##.......#...#...",
    ".#.#....#.....#.....#....#....#",
    "...##.#.............#....##....",
    ".........#.....#...#......#....",
    "..#.....#............#....##...",
    "..##.....#.....##.##...........",
    "#....#.#.......#..#......#.....",
    "##.......#.....#.....####....#.",
    "##...#.......#...#.....#.......",
    "#.....#..##.##...##..#.....#..#",
    "..........#......#..#.#........",
    "..##.#......#..............#...",
    ".#...#..........#.......#....#.",
    "..#....##...#...........#....#.",
    "..#.........#..#......#......#.",
    ".##....#......#.#.........#..##",
    ".......#...#....##............#",
    ".##.................#.#........",
    "...#.#...#..#..#.....#.#.......",
    ".#.#.......#...................",
    "..#..#.....#......#.....##..##.",
    ".#........#.##......#..........",
    "....##...#............#.#....#.",
    ".......#.#..#....##.#....#....#",
    "......####...#..#.....#........",
    "..........#..#.........#.#..#.#",
    "..........##.........#.##......",
    ".##..#.#.....#.....#....#......",
    "............#..#...............",
    ".....##.........#...#...##...##",
    "........#.##.#...#.....#....#.#",
    "#......##.#.##..........##.....",
    "#..#..#........#.........#..#..",
    "...............#.#..##.........",
    ".#.......##.#..#....#...#....##",
    ".#..##.....##......#....#...#.#",
    "........#...#.........#.....#.#",
    "...........#............#...#..",
    "................#...........#..",
    "..............##........#....#.",
    "..........#.....##.....#..#....",
    "#......#....###..#..#..........",
    ".....#.#.....##....#.#.......#.",
    "...#...#...............#.#.....",
    ".............#.......#.........",
    ".....#.....#..#......#.....#...",
    ".........#.................#.##",
    ".#.....#.##..#.................",
    "..#......#.......#.....#...#..#",
    "..#..#.#.#...#.......#.##......",
    "..........#..#.........#.......",
    ".#..........#...#....#..#...##.",
    ".#.#.#.###.....#...#.#.#.......",
    "....##............#............",
    ".#.#.............#..#......#.#.",
    ".#.#..........##..#.....#..#.#.",
    "...........#.##..#...#.#.....#.",
    "...........#..#....#...........",
    "..#................#.#...#....#",
    "...............##........##....",
    "....#.............#........#...",
    "...#......#.#.#........#.......",
    "#..............#..##.#..##.....",
    ".#.#.###................##.....",
    ".............#..#.........#....",
    ".......##..#............#...#..",
    "...#...#...........#.....#.....",
    "........#......#.#.#......#..#.",
    "#.##.......#......#..#..#.#....",
    "...#........#...........#...#..",
    "..#...........#.........#......",
    ".............#....#....#.......",
    "....#.........#........#......#",
    "..#............##..#.........#.",
    ".#...#...#..#...#........#..#..",
    "...#....##..............#......",
    "...........#...#....#.#.##..###",
    "..#....#......#.........#..#...",
    ".......#...#...................",
    ".#...#.#...................#...",
    ".#.....##.#.......#.#.#...##..#",
    ".....#..#.#.........#...#..##..",
    ".#..#.##.#......#......#.#...#.",
    "......#..#....##..#....##....##",
    "#...#......##........##........",
    ".#.........###................#",
    ".................#..###..#.#...",
    "..#.#........#..#........#...#.",
    "#.#....#....#..#...#.#......#..",
    ".#.#.............###.........#.",
    ".....#...............##...#...#",
    "..............#...#........#..#",
    "...................#..#.......#",
    "#......................#.....#.",
    "...#.........#..##...#...#.##..",
    ".....#..........#.........#....",
    ".....#...#............#..#.....",
    ".............#............#....",
    "...#.........#.................",
    "#...........#.#...............#",
    ".....#...#.....#..#.##.......##",
    "...#....#.#...........#........",
    ".........................#.#...",
    ".#..#...........#.#........#...",
    ".............#.#.....#..#....#.",
    ".....#...#.###...#..#........#.",
]

sample_input = [
    "..##.......",
    "#...#...#..",
    ".#....#..#.",
    "..#.#...#.#",
    ".#...##..#.",
    "..#.##.....",
    ".#.#.#....#",
    ".#........#",
    "#.##...#...",
    "#...##....#",
    ".#..#...#.#",
]

test_str = ".#..............##....#.#.####."

def get_str_index(string, idx):
    str_len = len(string)
    actual_idx = (idx - 1) % str_len
    return string[actual_idx]

def get_trees_v1(input):
    tree_count = 0
    x_coord = 4
    for idx, line in enumerate(input):
        if idx == 0:
            continue
        line_char = get_str_index(line, x_coord)
        if line_char == "#":
            tree_count += 1
        print(f"({idx}, {x_coord}) - {line_char}")
        x_coord += 3
    return tree_count

def get_trees_v2(input, x_incr, y_incr):
    tree_count = 0
    y_coord = 1
    x_coord = x_incr + 1
    for y in range(0, len(input), y_incr):
        line = input[y]
        if y == 0:
            continue
        line_char = get_str_index(line, x_coord)
        if line_char == "#":
            tree_count += 1
        print(f"({y}, {x_coord}) - {line_char}")
        x_coord += x_incr
    return tree_count

# print(get_trees_v1(test_input))

slopes = [
    (1, 1),
    (3, 1),
    (5, 1),
    (7, 1),
    (1, 2),
]

slope_results = [get_trees_v2(test_input, x[0], x[1]) for x in slopes]
print(math.prod(slope_results))